---
layout: post
title: "POJ一道关于线段树的题目"
description: "用线段树解决问题poj1769"
category: data-struct
tags: 
    - segment tree
    - poj
---
题目：[poj1769-Minimizing maximizer](http://poj.org/problem?id=1769)

由于要将最大的数字分离到最后的一位,如果我们考虑将数组看成一条\[1,n\]的线段,而每项操作也看成是从\[i\[k\],\j\[k\]\]的线段,那么就是要求按照输入的顺序,将线段\[1,n\]从左到右依次覆盖掉,问题变成求最小的覆盖线段总数。

考虑最基本的规划方法,用 Opt\[k\] 表示覆盖掉 \[1,k\]的线段最少需要的步数,那么状态转移方程为:

>    Opt \[k\] = min { Opt\[d\] + 1 | j\[p\] = k && d >= i\[p\] && d <= j\[p\] && k > 1 } 其中i\[p\] ,j\[p\]分别表示线段p的左端点和右端点
>
>    Opt \[1\] = 0;

最后的答案就是 Opt\[n\]了,但是考虑时间复杂度,是 O(m^2)级别的,m 最大为 500000,超时无疑。但是这里我们看到了规划的决策集合是一条连续的线段,是要在这条线段上面取得最小值,那么
线段树的结构就正好适合在这里应用了。

由于这里最小的单位是一个点,所以我们采取线段树的第一种变化,把元线段设置为单位点,即\[k,k\]。在规划的时候维护线段树即可。

线段树结点结构中,需要加入的元素是 min 代表最少需要用到的覆盖线段数目可以覆盖到当前结点所代表的线段中。

附有详细注释的源程序：{% gist 6136771 %}